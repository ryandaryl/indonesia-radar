<html>
<body style="margin: 20 0 0 0; padding: 0;">
<div id="timestamp" style="position: absolute; top: 0px;"></div>
<img style="width: 100%;
  height: 100%;
  object-fit: contain;
  position: relative;
  top: 50%;
  transform: translateY(-50%)" id="radar_heatmap" />
</body>
<script>
i = 0
data = []
headers = new Headers({'cache-control': 'no-cache'})
async function update_file_list() {
  response = await fetch('./radar_heatmap.json', headers)
  data = await response.json()
}
function update_heatmap() {
  if (data.length == 0) return
  document.getElementById("radar_heatmap").src=data[i]['filename']
  document.getElementById("timestamp").innerHTML=data[i]['timestamp']
  i = (i + 1) % data.length
}
setInterval(update_heatmap, 1000)
update_file_list()
update_heatmap()
setInterval(update_file_list, 1 * 60 * 1000)
</script>
</html>